---
title: 'Datasets'
---

The `unify.Dataset` class is the best way to manage and create datasets.
Datasets support indexing as well as value-based addition and removal.

```python
my_dataset = unify.Dataset([0, 1, 2], name="my_dataset")
my_dataset[0] = -1
my_dataset += [3, 4, 5]
my_dataset -= [1, 2]
print(my_dataset)
```
```
unify.Dataset([-1, 3, 4, 5], name="my_dataset")
```

Under the hood, datasets make use of the same logging primitives as `unify.log`.
The only differences is that datasets each have their own context,
which is automatically managed by the `unify.Dataset` class.

## Uploading

You can upload any dataset to your interface like so.

```python
my_dataset.upload()
```

The `unify.Dataset` class automatically sets the context as `f"Datasets/{name}"`,
so your dataset can be viewed at `Datasets/my_dataset`.

<Accordion title="In the Interface">
<img class="dark-light" width="100%" src="https://raw.githubusercontent.com/unifyai/unifyai.github.io/refs/heads/main/img/externally_linked/uploaded_dataset_dark.png"/>
click image to maximize
</Accordion>

Setting `overwrite=True` will overwrite any existing dataset with the same name 
(even if the upstream dataset contained more data not included in the upload).

```python
my_dataset.upload(overwrite=True)
```

## Downloading

If your dataset already exists upstream, you can download it like so.

```python
my_dataset = unify.Dataset.download("my_dataset")
```

Setting `overwrite=True` will overwrite your local dataset 
(even if your local dataset contained more data than is in the download).

```python
my_dataset.download(overwrite=True)
```

## Syncing

Finally, if you want to sync your local dataset with the upstream version,
to achieve the superset of the upstream and local data, you can do so like so.

```python
my_dataset.sync()
```

UNION

SUPERSET

## Duplicates

By default, the `unify.Dataset` class will **not** allow duplicate values.

```python
unify.Dataset([0, 1, 2, 2])
```
```
EXCEPTION
```

If you would like to allow duplicates, you can override the default behavior by setting the `allow_duplicates` flag when creating the dataset.

```python
unify.Dataset([0, 1, 2, 2], allow_duplicates=True)
```

When `allow_duplicates` is set to `False`, then all upstream entries with identical values to local entries will be assumed to represent the **same entry**,
and any unset log ids of local values will be updated to match the upstream ids.

If `allow_duplicates` is set to `True`, then any upstream entries with identical values to local entries will simply be added alongside the local entries,
and the log ids of the local entries will be left unchanged.

If duplicates are not explicitly required for a dataset, 
then it's best to leave `allow_duplicates` set to `False`.
Even if duplicates are needed, adding an extra `example_id` column with `allow_duplicates` kept as `False` can be worthwhile, 
especially if you're regularly syncing datasets between local and upstream sources.

```python
import random
my_dataset = unify.Dataset(
    list(range(100)), name="my_dataset"
).sync()
my_sub_dataset = unify.Dataset(
    random.sample(my_dataset, 10), name="my_sub_dataset"
).sync()
```

<Accordion title="In the Interface">
<img class="dark-light" width="100%" src="https://raw.githubusercontent.com/unifyai/unifyai.github.io/refs/heads/main/img/externally_linked/dataset_and_sub_dataset_dark.png"/>
click image to maximize
</Accordion>

Editing logs (rows) in one dataset will be reflected in the other.

```python
for log in my_dataset:
    val = log.entries["data"]
    log.update_entries(data=val*100)
```

<Accordion title="In the Interface">
<img class="dark-light" width="100%" src="https://raw.githubusercontent.com/unifyai/unifyai.github.io/refs/heads/main/img/externally_linked/shared_dataset_entries_dark.gif"/>
click image to maximize
</Accordion>

Logs can also be removed from one dataset table, without deleting it from the other.
However, if the log is deleted from both datasets, then it will be deleted entirely.

<Accordion title="In the Interface">
<img class="dark-light" width="100%" src="https://raw.githubusercontent.com/unifyai/unifyai.github.io/refs/heads/main/img/externally_linked/shared_dataset_deletion_dark.gif"/>
click image to maximize
</Accordion>
